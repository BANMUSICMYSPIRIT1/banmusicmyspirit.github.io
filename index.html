// change this single value to update your USD-per-coin price
const COIN_RATE = 0.01; // $0.01 per coin

let selectedCoins = 0;
let selectedPrice = 0;

function selectCoins(amount) {
  selectedCoins = amount;
  selectedPrice = (amount * COIN_RATE).toFixed(2);
  document.getElementById("customCoins").value = "";
  updatePriceText();
  highlightSelection(amount);
}

function updatePriceText() {
  const custom = document.getElementById("customCoins").value;
  const price = custom ? (custom * COIN_RATE).toFixed(2) : selectedPrice;
  document.getElementById("priceText").innerText = `Total: $${price}`;
}

document.getElementById("customCoins").addEventListener("input", updatePriceText);

function buyCoins() {
  const username = document.getElementById("username").value.trim();
  const custom = document.getElementById("customCoins").value;
  const coins = custom ? parseInt(custom) : selectedCoins;
  const price = (coins * COIN_RATE).toFixed(2);

  if (!username || !coins) {
    alert("Please enter your username and select coins!");
    return;
  }
  // send to payment page with details
  window.location.href = `payment.html?username=${encodeURIComponent(username)}&coins=${coins}&price=${price}`;
}
